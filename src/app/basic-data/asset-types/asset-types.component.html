
<p-toast></p-toast>
<p-confirmPopup></p-confirmPopup>
<div class="container mt-4">
	<button pButton type="button" class="mb-3" style="border-radius: 5px; min-width: 80px; height: 40px;" (click)="openAddDialog()" label="Add" icon="pi pi-plus" iconPos="right"></button>
	<p-table [value]="items" [paginator]="true" [rows]="10" responsiveLayout="scroll" tableStyleClass="p-datatable-bordered table-bordered">
		<ng-template pTemplate="header">
			<tr>
				<th>Name (AR)</th>
				<th>Name (EN)</th>
				<th>Description</th>
				<th>Status</th>
				<th>Actions</th>
			</tr>
		</ng-template>
		<ng-template pTemplate="body" let-item let-i="rowIndex">
			<tr>
				<td>{{ item.nameAr }}</td>
				<td>{{ item.nameEn }}</td>
				<td>{{ item.description }}</td>
				<td>
					<span [ngClass]="item.status === 'Active' ? 'status-badge status-active' : 'status-badge status-inactive'">
						{{ item.status }}
					</span>
				</td>
				<td>
					<button pButton type="button" icon="pi pi-pencil" class="p-button-text p-button-sm me-2" (click)="openEditDialog(i)"></button>
					<button pButton type="button" icon="pi pi-trash" class="p-button-text p-button-sm text-danger" (click)="confirmDelete($event, i)"></button>
				</td>
			</tr>
		</ng-template>
	</p-table>

	<p-dialog header="{{ dialogTitle }}" [(visible)]="displayDialog" [modal]="true" [closable]="true" [style]="{width: '520px'}">
		<form (ngSubmit)="saveDialog()" #assetTypeForm="ngForm" class="p-fluid">
			<div class="p-field p-mb-3">
				<label for="nameAr">Name (AR)</label>
				<input pInputText id="nameAr" type="text" [(ngModel)]="form.nameAr" name="nameAr" required />
			</div>
			<div class="p-field p-mb-3">
				<label for="nameEn">Name (EN)</label>
				<input pInputText id="nameEn" type="text" [(ngModel)]="form.nameEn" name="nameEn" required />
			</div>
			<div class="p-field p-mb-3">
				<label for="description">Description</label>
				<input pInputText id="description" type="text" [(ngModel)]="form.description" name="description" />
			</div>
			<div class="p-field p-mb-3" style="margin-bottom: 2rem;">
				<label for="status">Status</label>
				<p-dropdown id="status" [options]="[{label: 'Active', value: 'Active'}, {label: 'Inactive', value: 'Inactive'}]" [(ngModel)]="form.status" name="status"></p-dropdown>
			</div>
			<div class="p-d-flex p-jc-end">
				<button pButton type="submit" label="Save" icon="pi pi-check" [disabled]="!assetTypeForm.form.valid"></button>
			</div>
		</form>
	</p-dialog>
</div>
